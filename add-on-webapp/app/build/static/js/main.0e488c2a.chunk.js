(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{237:function(e,t,n){e.exports=n(434)},409:function(e,t,n){},434:function(e,t,n){"use strict";n.r(t),n.d(t,"defaultInitialState",(function(){return qn}));var a,r,i,o,c=n(4),l=n.n(c),u=n(17),s=n.n(u),d=n(9),p=n(493),f=n(13),b=n.n(f),m=n(19),g=n(10),h=n(22),v=n(24);!function(e){e.text="Text",e.picklist="SPARQL Picklist",e.literal="literal",e.uri="uri"}(a||(a={})),function(e){e.open="OPEN_FILTER_DIALOG",e.close="CLOSE_FILTER_DIALOG",e.picklistValues="FETCH_PICKLIST_VALUES",e.setActive="SET_ACTIVE_FILTERS",e.clearActive="CLEAR_ACTIVE_FILTERS"}(r||(r={})),function(e){e.selectAll="SELECT_ALL",e.unselectAll="UNSELECT_ALL"}(i||(i={})),function(e){e.handleExpand="HANDLE_EXPAND",e.resetExpand="RESET_EXPAND",e.expandAll="HANDLE_ALL_CHILDREN"}(o||(o={}));var O=n(72),j=n(39),E=n(1),x=n.n(E),y=n(25),w=n(86),I=n(11);function C(){var e=Object(I.a)(["\n  margin: 0;\n  padding-inline-start: 15px;\n"]);return C=function(){return e},e}function k(){var e=Object(I.a)(["\n  padding: 5px;\n  user-select: all;\n"]);return k=function(){return e},e}function S(){var e=Object(I.a)(["\n  font-size: small;\n"]);return S=function(){return e},e}function P(){var e=Object(I.a)(["\n  font-size: medium;\n  display: flex;\n  flex-direction: column;\n"]);return P=function(){return e},e}function T(){var e=Object(I.a)(["\n  display: list-item;\n  padding-bottom: 5px;\n"]);return T=function(){return e},e}var R=function(e){var t=e.messages,n=e.subTitle;return t&&t.length>0&&l.a.createElement(L,null,l.a.createElement("span",null,n),l.a.createElement(G,null,t.map((function(e){return l.a.createElement(F,{key:e},e)}))))},N=function(e){var t=e.title,n=e.warnings,a=e.errors,r=e.importStep;return l.a.createElement(A,{"data-testid":"Import"},l.a.createElement(z,null,l.a.createElement("span",null,r),l.a.createElement("span",null,t)),R({messages:n,subTitle:"Warnings: "}),R({messages:a,subTitle:"Errors: "}))},F=d.b.li(T()),z=d.b.div(P()),A=d.b.div(S()),L=d.b.div(k()),G=d.b.ul(C()),_=n(8),D=n(197),W=n.n(D),q=n(198),B=n.n(q),H=n(201),M=n.n(H),V={imported:"imported",collapse:"collapse",search:"Search",expanderText:"ExpanderText",containerExpander:"ContainerExpander",iconExpand:"IconExpand",iconExpandWrapper:"IconExpandWrapper",expandCell:"ExpandCell",tableCell:"TableCell",countChildren:"CountChildren",cellMenu:"CellMenu",menuButton:"MenuButton",highestTreeLevel:"Root"},Y={yellow:"rgb(246, 229, 36)",black:"rgb(76, 76, 76)",blackOpacityBorder:"rgb(76, 76, 76, 0.3)",blackOpacity:"rgb(76, 76, 76, 0.75)",white:"rgb(255, 255, 255)",darkGrey:"rgb(105, 105, 105)",grey:"rgb(211, 211, 211)",greyOpacity:"rgb(211, 211, 211, 0.3)",silver:"rgb(192, 192, 192)",blue:"rgb(33, 150, 243)",orange:"rgb(255,165,0)"},J={color:Y.white,textTransform:"capitalize",fontWeight:"bold",textAlign:"left",fontSize:"medium",boxShadow:"unset",backgroundColor:Y.darkGrey,paddingLeft:"unset"},U=function(e){return{color:Y.blackOpacity,opacity:e?.5:1,width:"52.8px",height:"45.8px"}},K={overflow:"unset"},Q={border:0},X={marginTop:"3px"},Z={fontSize:"x-large"},$=function(e){return{color:Y.white,fontSize:e?"20px":"medium"}},ee=function(e){return{marginLeft:"10px",width:"30px",height:"30px",opacity:e?"1":"0.3",color:Y.blackOpacity,padding:"unset"}},te={width:"20px",right:"-10px"},ne=function(e){var t=Object(E.useState)(!1),n=Object(_.a)(t,2),a=n[0],r=n[1],i=Object(E.useRef)(null),o=function(){return r(!0)},c=function(){return r(!1)},l=e?"mouseenter":"mouseover",u=e?"mouseleave":"mouseout";return Object(E.useEffect)((function(){var e=i.current;if(e)return e.addEventListener(l,o),e.addEventListener(u,c),function(){e.removeEventListener(l,o),e.removeEventListener(u,c)}}),[i.current]),[i,a]};function ae(){var e=Object(I.a)(["\n  width: 30px;\n  height: 30px;\n"]);return ae=function(){return e},e}var re=function(){var e=Object(h.a)(b.a.mark((function e(t){var n,a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.errors,a=t.warnings,r=n.length>0?"Errors:\n".concat(n.join("\n")," \n      \nWarnings:\n").concat(a.join("\n")):"Warnings:\n".concat(a.join("\n")),e.abrupt("return",W()(r).then((function(){return ue("Copied to clipboard!",void 0,{type:y.b.TYPE.SUCCESS,position:y.b.POSITION.TOP_RIGHT,autoClose:3e3})})).catch((function(){return ue("Copied failed, try again or manually copy the text by clicking on it",void 0,{type:y.b.TYPE.ERROR,position:y.b.POSITION.TOP_RIGHT,autoClose:3e3})})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=function(e){var t=e.closeToast,n=e.warnings,a=e.errors,r=ne(),i=Object(_.a)(r,2),o=i[0],c=i[1],u=ne(),s=Object(_.a)(u,2),d=s[0],p=s[1];return l.a.createElement(l.a.Fragment,null,(a&&n||n)&&l.a.createElement(oe,{"data-testid":"CopyToClipBoard",ref:o,onClick:Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",re({errors:a||[],warnings:n}));case 1:case"end":return e.stop()}}),e)})))},l.a.createElement(B.a,{style:$(c)})),l.a.createElement(oe,{ref:d,onClick:t},l.a.createElement(M.a,{style:$(p),"data-testid":"CloseToast"})))},oe=d.b.div(ae()),ce=n(57),le=n.n(ce),ue=function(e,t,n,a,r){return Object(y.b)(x.a.createElement(N,{title:e,warnings:a,errors:r,importStep:t}),n||{type:y.b.TYPE.ERROR})},se=function(e){e=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&#]"+e+"=([^&#]*)").exec(window.location.search||window.location.hash);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))},de=function(e){return function(e){e.level,e.children;var t=Object(j.a)(e,["level","children"]);return Object(g.a)({},t)}(e)},pe={"Content-Type":"application/json"},fe=function e(t){var n=t.uniqId,a=t.count,r=t.allData,i=t.selectedIds,o=t.parentId,c=r[n].children;return c.length>0&&c.forEach((function(t){return a=e({uniqId:t,count:a,allData:r,selectedIds:i,parentId:o})})),i.includes(n)&&n!==o?a+=1:a},be=function(e){return!!e&&(e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth)},me=function(e){return e.map((function(e){return Object(g.a)({},e,{hasChildren:["1","true"].includes(e.hasChildren),isImported:["1","true"].includes(e.isImported)})}))},ge=function(){var e=Object(h.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("".concat("/api/visualization/","children?configurationId=").concat(n.configurationId),{method:"post",headers:pe,body:JSON.stringify({values:[de(t)],commonParameters:n.parameters})}).then(Ee).then(function(){var e=Object(h.a)(b.a.mark((function e(a){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.values,e.abrupt("return",Promise.all(me(r).map(function(){var e=Object(h.a)(b.a.mark((function e(a,r){var i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Object(g.a)({},a,{level:t.level+1,treeNodeId:"".concat(t.treeNodeId,".").concat(r+1)}),e.t0=g.a,e.t1={},e.t2=i,e.t3="".concat(a.uri,"_").concat(t.treeNodeId,".").concat(r+1),!a.hasChildren){e.next=11;break}return e.next=8,ge(i,n);case 8:e.t4=e.sent,e.next=12;break;case 11:e.t4=[];case 12:return e.t5=e.t4,e.t6={uniqId:e.t3,children:e.t5},e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t6));case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return ue("There was a problem retrieving all the children, please try again.",void 0,{type:y.b.TYPE.ERROR,autoClose:5e3}),[]})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),he=function e(t,n,a,r){return t.forEach((function(i){i.children.length>0&&e(i.children,n,i.level),n[i.uniqId]=Object(g.a)({},i,{children:i.children.map(le()("uniqId"))}),r&&(n[r].children=Object.values(t).reduce((function(e,t){var n=t.level,r=t.uniqId;return[].concat(Object(O.a)(e),Object(O.a)(n===a+1?[r]:[]))}),[]))})),n},ve=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.substring(e.lastIndexOf("_")+1).startsWith(t)},Oe=function(e,t){var n=document.getElementById(je("TableBody",t));window.parent.postMessage(JSON.stringify({messageType:je("resizing",t),height:null===n||void 0===n?void 0:n.scrollHeight,pagination:e}),"*")},je=function(e,t){return t?"".concat(t,"_").concat(e):e},Ee=function(){var e=Object(h.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=2;break}return e.abrupt("return",t.json());case 2:return e.abrupt("return",Promise.reject(t));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=function(){var e=Object(h.a)(b.a.mark((function e(t,n,a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t instanceof Response?t.json().then((function(e){a(e.message)})):n(t);case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),ye=n(41),we=n(482),Ie=n(202),Ce=n.n(Ie),ke=n(480);function Se(){var e=Object(I.a)(["\n  cursor: pointer;\n  display: flex;\n  flex-direction: row;\n  padding: 1px;\n  margin: auto;\n"]);return Se=function(){return e},e}var Pe=function(e){var t=e.isExpanded,n=e.origin,a=e.level,r=Object(c.useDispatch)("fetchChildren"),i=n.uri.replace(/.*\//,"");return x.a.createElement(Te,{onClick:function(){0===n.children.length&&r(!0,n,a)},"data-testid":"Expand_".concat(i),id:V.iconExpandWrapper},t?x.a.createElement(ke.a,{id:V.iconExpand,"data-testid":"Down_".concat(i),style:{fontSize:20}},"expand_more"):x.a.createElement(ke.a,{id:V.iconExpand,"data-testid":"Right_".concat(i),style:{fontSize:20}},"chevron_right"))},Te=d.b.div(Se()),Re=n(219),Ne=n(498);function Fe(){var e=Object(I.a)(["\n  margin-left: 10px;\n"]);return Fe=function(){return e},e}var ze=function(e){var t=e.id,n=e.anchorEl,a=e.closeMenu,r=e.menuItems;return l.a.createElement(Re.a,{id:t,anchorEl:n,disableAutoFocusItem:!0,open:Boolean(n),onClose:function(){a()}},r.map((function(e,t){var n=e.title,i=e.action;return l.a.createElement(Ne.a,Object.assign({key:n,id:"MenuItem_".concat(n),onClick:function(e){e.stopPropagation(),a(),i()}},t!==r.length-1&&{style:{borderBottom:"1px solid rgb(0, 0, 0, 0.10)"}}),l.a.createElement(Ae,{"data-testid":n},n))})))},Ae=d.b.span(Fe());function Le(){var e=Object(I.a)(["\n  font-weight: bold;\n  color: ",";\n  padding-left: 10px;\n"]);return Le=function(){return e},e}function Ge(){var e=Object(I.a)(["\n  margin-left: ",";\n  width: 100%;\n  padding: 10px;\n  height: 100%;\n  white-space: nowrap;\n  overflow: hidden !important;\n  text-overflow: ellipsis;\n"]);return Ge=function(){return e},e}function _e(){var e=Object(I.a)(["\n  margin-left: ",";\n  display: flex;\n  flex-direction: row;\n  height: 100%;\n"]);return _e=function(){return e},e}var De=function(e){var t=e.original,n=e.isExpanded,a=e.column,r=e.count,u=ne(),s=Object(_.a)(u,2),d=s[0],p=s[1],f=d.current&&d.current.offsetWidth<d.current.scrollWidth,m=a.name&&t[a.name],g=Object(c.useDispatch)("handleSelect"),v=Object(c.useDispatch)("handleExpand"),O=Object(c.useDispatch)("import"),j=Object(E.useState)(void 0),x=Object(_.a)(j,2),y=x[0],w=x[1],I=[{title:"Expand all",action:function(){v({type:o.expandAll,payload:{item:t}})}},{title:"Select all",action:function(){g({type:i.selectAll,payload:{item:t}})}},{title:"Unselect all",action:function(){g({type:i.unselectAll,payload:{item:t}})}},{title:"Import all",action:function(){var e=Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g({type:i.selectAll,payload:{item:t}});case 2:return e.next=4,O(t.treeNodeId);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}];return l.a.createElement(We,Object.assign({level:t.level},t.hasChildren&&{id:V.containerExpander},{"data-tip":f&&p&&m||""}),t.hasChildren?l.a.createElement(Pe,{isExpanded:n,origin:t,level:t.level}):void 0,l.a.createElement(qe,{ref:d,id:V.expanderText,checkChildren:t.hasChildren},m||"",l.a.createElement(Be,{"data-testid":"AmountChildren_".concat(m),id:V.countChildren},!n&&t.children.length>0&&0!==r?"  (+".concat(r," children)"):"")),t.hasChildren?l.a.createElement(we.a,{id:V.menuButton,"data-testid":"".concat(t.treeNodeId,"_").concat(V.menuButton),"aria-controls":V.cellMenu,style:{width:"30px",height:"30px",backgroundColor:"unset",boxShadow:"unset"},"aria-haspopup":"true",onClick:function(e){e.stopPropagation(),w(e.currentTarget)}},l.a.createElement(Ce.a,{style:{color:"#4c4c4c",fontSize:"20px"}})):void 0,l.a.createElement(ze,{id:V.cellMenu,anchorEl:y,closeMenu:function(){return w(void 0)},menuItems:I}))},We=d.b.div(_e(),(function(e){return"".concat(20*e.level,"px")})),qe=d.b.span(Ge(),(function(e){return e.checkChildren?"0px":"23px"})),Be=d.b.span(Le(),(function(e){return e.theme.colors.black})),He=n(203),Me=n.n(He),Ve=n(204),Ye=n.n(Ve);function Je(){var e=Object(I.a)(["\n  width: 20px;\n  height: 20px;\n"]);return Je=function(){return e},e}function Ue(){var e=Object(I.a)(["\n  padding: 7px 5px;\n"]);return Ue=function(){return e},e}function Ke(){var e=Object(I.a)(["\n  display: inline;\n"]);return Ke=function(){return e},e}function Qe(){var e=Object(I.a)(["\n  margin: ",";\n  margin-right: unset;\n  cursor: pointer;\n"]);return Qe=function(){return e},e}function Xe(){var e=Object(I.a)(["\n  width: ",";\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]);return Xe=function(){return e},e}function Ze(){var e=Object(I.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n"]);return Ze=function(){return e},e}var $e=function(e){var t=e.title,n=e.columnProps,a=Object(c.useGlobal)("columns"),r=Object(_.a)(a,2),i=r[0],o=r[1],l=Object(c.useGlobal)("foldedColumn"),u=Object(_.a)(l,2)[1],s=Object(c.useGlobal)("defaultColumnWidths"),d=Object(_.a)(s,1)[0],p=Object(c.useGlobal)("newSorted"),f=Object(_.a)(p,1)[0],b=ne(!0),m=Object(_.a)(b,2),h=m[0],v=m[1],O=ne(),j=Object(_.a)(O,2),y=j[0],w=j[1],I=y.current&&y.current.offsetWidth<y.current.scrollWidth,C=f[0],k=C&&C.id===n.id,S=Object(E.useState)(!1),P=Object(_.a)(S,2),T=P[0],R=P[1],N=Object(E.useState)(),F=Object(_.a)(N,2),z=F[0],A=F[1];return Object(E.useEffect)((function(){if(!T){var e=i.find((function(e){return e.id===n.id}));e&&A(e)}}),[T,n.id,i]),x.a.createElement(et,{ref:h},x.a.createElement(nt,{folded:T,"data-testid":"Fold_".concat(n.id),onClick:function(e){var t={id:n.id,folded:!T};e.stopPropagation(),R(!T),u(t);var a=i.map((function(e,t){var a=d.find((function(t){return t.id===e.id}));return n.id===e.id?T?Object(g.a)({},z,{width:a?a.width+2:200}):Object(g.a)({},e,{width:30,sortable:!1,resizable:!1},0===t?{Expander:function(){return x.a.createElement(rt,null,"...")}}:{Cell:function(){return"..."}}):e}));o(a)}},T?x.a.createElement(Me.a,{style:Z}):x.a.createElement(Ye.a,{style:Z})),x.a.createElement(tt,{ref:y,"data-tip":I&&w?t:"",sort:n.sortable},x.a.createElement(at,null,t)),x.a.createElement(it,null,k&&(C.desc?x.a.createElement(ye.a,{style:X}):x.a.createElement(ye.b,{style:X})),v&&!k&&x.a.createElement(ye.b,{style:X})))},et=d.b.div(Ze()),tt=d.b.span(Xe(),(function(e){return e.sort?"calc(100% - 50px)":"100%"})),nt=d.b.div(Qe(),(function(e){return e.folded?"0 5px":"0 10px"})),at=d.b.span(Ke()),rt=d.b.div(Ue()),it=d.b.div(Je());function ot(){var e=Object(I.a)(["\n  overflow: hidden;\n  text-overflow: ellipsis;\n  margin-top: 4px;\n"]);return ot=function(){return e},e}var ct=function(e){var t=e.value,n=ne(),a=Object(_.a)(n,2),r=a[0],i=a[1],o=r.current&&r.current.offsetWidth<r.current.scrollWidth;return l.a.createElement(lt,{id:"CellTextWrapper","data-tip":o&&i?t:"",ref:r},l.a.createElement("span",{id:"CellText"},t))},lt=d.b.div(ot()),ut=function(e){return e.filter((function(e){return e.show})).map((function(e,t){return 0===t?function(e){return{expander:!0,sortable:!0,filterable:!1,accessor:e.name||"",headerStyle:Object(g.a)({},J,{marginLeft:1}),Header:function(t){return x.a.createElement($e,{title:e.display||e.name||"",columnProps:t.column})},show:e.show,id:V.collapse,minWidth:250,minResizeWidth:250,Expander:function(t){var n=t.isExpanded,a=t.original,r=Object(c.useGlobal)("selectedIds"),i=Object(_.a)(r,1)[0],o=Object(c.useGlobal)("data"),l=Object(_.a)(o,1)[0];return x.a.createElement(De,{original:a,isExpanded:n,column:e,count:fe({uniqId:a.uniqId,parentId:a.uniqId,count:0,allData:l,selectedIds:i})})}}}(e):{Header:function(t){return x.a.createElement($e,{title:e.display||e.name||"",columnProps:t.column})},accessor:e.name||"",show:e.show,minResizeWidth:100,headerStyle:J,id:e.name||void 0,sortable:!0,filterable:!1,minWidth:100,Cell:function(t){var n=t.value,a=t.original;return"isImported"===e.name?n&&x.a.createElement(ye.c,{"data-testid":"Import_".concat(a.label)}):x.a.createElement(ct,{value:n})}}}))};Object(c.addReducer)("fetchRoots",function(){var e=Object(h.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n((function(e){return Object(g.a)({},e,{loading:!0})})),e.abrupt("return",fetch("".concat("/api/visualization/","roots?configurationId=").concat(t.configurationId),{method:"post",headers:pe,body:JSON.stringify({commonParameters:t.parameters,filterParameters:Object.values(t.filters.rootFilters)})}).then(Ee).then((function(e){var n=e.columns,r=e.values,i=e.visualizationMetadata,o=e.filters;return{loadingRoots:!1,loading:!1,filters:Object(g.a)({},t.filters,{hasEmptyRootsFilters:0===o.length,rootFilters:o.reduce((function(e,n){var r,i;return Object(g.a)({},e,Object(m.a)({},n.variable,{name:n.name,query:n.query,value:(null===(r=t.filters.rootFilters[n.variable])||void 0===r?void 0:r.value)||void 0,id:n.variable,type:(i=n.type,i===a.text?a.literal:a.uri)}))}),{})}),columns:Object.values(t.filters.rootFilters).length>0?t.columns:ut(n),enablePagination:i.enablePagination,title:i.title,subtitle:i.subtitle,data:me(r).reduce((function(e,t,n){var a="".concat(t.uri,"_").concat(n+1);return t=Object(g.a)({},t,{children:[],level:0,treeNodeId:"".concat(n+1),uniqId:a}),e[a]=t,e}),{})}})).catch((function(e){return xe(e,(function(e){return{error:e,loadingRoots:!1,loading:!1}}),(function(e){return{error:new Error(e),loadingRoots:!1,loading:!1}}))})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Object(c.addReducer)("fetchChildren",(function(e,t,n,a,r){return fetch("".concat("/api/visualization/","children?configurationId=").concat(e.configurationId),{method:"post",headers:pe,body:JSON.stringify({values:[de(a)],commonParameters:e.parameters})}).then(Ee).then((function(t){var i=t.values,o=me(i);if(n)return{data:Object(g.a)({},e.data,{},o.reduce((function(e,t,n){var i="".concat(t.uri,"_").concat(a.treeNodeId,".").concat(n+1);return t=Object(g.a)({},t,{children:[]}),e[i]=t,t.level=r+1,t.treeNodeId="".concat(a.treeNodeId,".").concat(n+1),t.uniqId=i,e}),{}),{},Object(m.a)({},a.uniqId,Object(g.a)({},e.data[a.uniqId],{children:o.map((function(e,t){return"".concat(e.uri,"_").concat(a.treeNodeId,".").concat(t+1)}))})))};var c=e.data;return o.forEach((function(e,t){return c["".concat(e.uri,"_").concat(a.treeNodeId,".").concat(t+1)].uuid=e.uuid})),o.forEach((function(e,t){return c["".concat(e.uri,"_").concat(a.treeNodeId,".").concat(t+1)].parentUuid=a.uuid})),Object(v.a)(e,(function(e){e.data=c}))})).catch((function(e){return xe(e,(function(e){return{error:e}}),(function(e){return{error:new Error(e)}}))}))})),Object(c.addReducer)("import",function(){var e=Object(h.a)(b.a.mark((function e(t,n,a){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=JSON.stringify({values:t.selectedIds.filter((function(e){return ve(e,a)})).map((function(e){return de(Object(g.a)({},t.data[e],{isImported:!1}))})),commonParameters:t.parameters}),n((function(e){return Object(g.a)({},e,{loading:!0})})),e.abrupt("return",fetch("".concat("/api/import/","?configurationId=").concat(t.configurationId),{method:"post",headers:pe,body:r}).then(Ee).then(function(){var e=Object(h.a)(b.a.mark((function e(n){var r,i,o;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.map(le()("success")),i=r.includes(!1),e.next=4,fetch("".concat("/api/visualization/","roots?configurationId=").concat(t.configurationId),{method:"post",headers:pe,body:JSON.stringify({commonParameters:t.parameters,filterParameters:Object.values(t.filters.rootFilters)})}).then(Ee).then((function(e){return e.values.map((function(e,t){return{uuid:e.uuid,uri:e.uri,treeNodeId:"".concat(t+1),uniqId:"".concat(e.uri,"_").concat(t+1)}}))})).catch((function(){return[]}));case 4:if(o=e.sent,!i){e.next=7;break}return e.abrupt("return",Object(g.a)({},t,{loading:!1,importSteps:n}));case 7:if(0!==o.length){e.next=10;break}return ue("During the import, something wrong happened with the retrieval of the roots, please try again"),e.abrupt("return",Object(g.a)({},t,{loading:!1}));case 10:return e.abrupt("return",Object(v.a)(t,(function(e){if(e.loading=!1,e.importSteps=n,o.forEach((function(t){e.data[t.uniqId].uuid=t.uuid,e.data[t.uniqId].children.forEach((function(n){e.data[n].parentUuid=t.uuid}))})),a)return e.selectedIds=t.selectedIds.filter((function(e){return!ve(e,a)})),void t.selectedIds.filter((function(e){return ve(e,a)})).forEach((function(t){e.data[t].isImported=!0}));e.selectedIds=[],t.selectedIds.forEach((function(t){e.data[t].isImported=!0}))})));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return xe(e,(function(e){ue("The import could not be started, please try again. Error message: ".concat(e.message))}),(function(e){ue("Query Execution Failed. Click Copy for details.",void 0,{type:y.b.TYPE.ERROR,autoClose:!1,closeButton:x.a.createElement(ie,{errors:[e],warnings:[]})})})),{loading:!1}})));case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()),Object(c.addReducer)("handleFilter",function(){var e=Object(h.a)(b.a.mark((function e(t,n,a){var i,o,c,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Object.values(t.data).filter((function(e){return 0===e.level})).reduce((function(e,t,n){return Object(g.a)({},e,Object(m.a)({},n,!1))}),{}),e.t0=a.type,e.next=e.t0===r.clearActive?4:e.t0===r.setActive?5:e.t0===r.open?7:e.t0===r.close?8:e.t0===r.picklistValues?10:15;break;case 4:return e.abrupt("return",Object(v.a)(t,(function(e){e.filters.isFilterDialogOpen=!1,e.filters.areFiltersActive=!1,e.expandedRows=Object(m.a)({},V.highestTreeLevel,i),e.filters.rootFilters=Object.values(e.filters.rootFilters).reduce((function(e,t){return e[(t=Object(g.a)({},t,{value:void 0})).id]=t,e}),{})})));case 5:return o=Object.entries(a.payload),e.abrupt("return",Object(v.a)(t,(function(e){e.filters.areFiltersActive=!0,e.expandedRows=Object(m.a)({},V.highestTreeLevel,i),e.filters.isFilterDialogOpen=!1,o.forEach((function(t){e.filters.rootFilters[t[0]].value=t[1]}))})));case 7:return e.abrupt("return",Object(v.a)(t,(function(e){e.expandedRows=Object(m.a)({},V.highestTreeLevel,i),e.filters.isFilterDialogOpen=!0,e.filters.areFiltersActive=!1})));case 8:return c=!Object.values(t.filters.rootFilters).every((function(e){return!e.value})),e.abrupt("return",Object(v.a)(t,(function(e){e.filters.isFilterDialogOpen=!1,c&&(e.filters.areFiltersActive=!0)})));case 10:return n((function(e){return Object(v.a)(e,(function(e){e.filters.loadingPicklist=!0}))})),e.next=13,fetch("".concat("/api/visualization/filtervalues","?configurationId=").concat(t.configurationId,"&queryId=").concat(a.payload.queryId),{method:"get",headers:pe}).then(Ee).then((function(e){return Object(v.a)(t,(function(t){var n=e.sort((function(e,t){var n=e.value,a=t.value;return n<a?-1:n>a?1:0})).map((function(e){return{value:e.key,display:e.value}}));t.filters.picklist=n,t.filters.loadingPicklist=!1}))})).catch((function(e){return xe(e,(function(e){return ue("".concat(e.message,", please try again."))}),(function(e){return ue("".concat(e,", please try again."))})),Object(v.a)(t,(function(e){e.filters.loadingPicklist=!1}))}));case 13:return l=e.sent,e.abrupt("return",l);case 15:return e.abrupt("return",t);case 16:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}());var st=n(205),dt=n.n(st);Object(c.addReducer)("handleSelect",function(){var e=Object(h.a)(b.a.mark((function e(t,n,a){var r,o,c,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=a.type,o=a.payload.item,e.t0=r,e.next=e.t0===i.selectAll?4:e.t0===i.unselectAll?13:14;break;case 4:return n((function(e){return Object(g.a)({},e,{loading:!0})})),e.next=7,ge(o,t);case 7:if(0!==(c=e.sent).length){e.next=11;break}return n((function(e){return Object(g.a)({},e,{loading:!1})})),e.abrupt("return");case 11:return l=he(c,Object(g.a)({},t.data),o.level,o.uniqId),e.abrupt("return",Object(v.a)(t,(function(e){e.loading=!1,e.data=l,e.selectedIds=dt()(t.selectedIds,Object.values(l).filter((function(e){return e.treeNodeId.startsWith(o.treeNodeId)})).map((function(e){return e.uniqId})))})));case 13:return e.abrupt("return",Object(v.a)(t,(function(e){e.selectedIds=t.selectedIds.filter((function(e){return!ve(e,o.treeNodeId)}))})));case 14:return e.abrupt("return",t);case 15:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}());var pt=function(e){return e.includes(".")?"".concat(e.substring(0,e.lastIndexOf("."))):V.highestTreeLevel},ft=function e(t,n,a){return t.forEach((function(t,r){var i;t.children.length>0&&e(t.children,n),n[pt(t.treeNodeId)]=Object(g.a)({},n[pt(t.treeNodeId)],Object(m.a)({},r,t.children.length>0&&t.hasChildren)),a&&(n[pt(a)]=Object(m.a)({},a.length>1?(i=a,Number(i.substring(i.lastIndexOf(".")+1))-1):Number(a)-1,!0))})),n};Object(c.addReducer)("handleExpand",function(){var e=Object(h.a)(b.a.mark((function e(t,n,a){var r,i,c,l,u,s,d,p;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=a.type,e.next=e.t0===o.expandAll?3:e.t0===o.handleExpand?14:e.t0===o.resetExpand?16:17;break;case 3:return r=a.payload.item,n((function(e){return Object(g.a)({},e,{loading:!0})})),e.next=7,ge(r,t);case 7:if(0!==(i=e.sent).length){e.next=11;break}return n((function(e){return Object(g.a)({},e,{loading:!1})})),e.abrupt("return");case 11:return c=he(i,Object(g.a)({},t.data),r.level,r.uniqId),l=ft(i,Object(g.a)({},t.expandedRows),r.treeNodeId),e.abrupt("return",Object(v.a)(t,(function(e){e.loading=!1,e.data=c,e.expandedRows=l})));case 14:return u=a.payload,s=u.treeNode,d=u.index,p=u.newExpanded,e.abrupt("return",Object(v.a)(t,(function(e){var n=t.expandedRows[s];Object.keys(n||{}).includes("".concat(d))&&n[d]?e.expandedRows[s]=p:e.expandedRows[s]=Object(m.a)({},d,Boolean(p[d]))})));case 16:return e.abrupt("return",Object(v.a)(t,(function(e){e.expandedRows={}})));case 17:return e.abrupt("return",t);case 18:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}());n(408),n(193);var bt=n(218),mt=n(129),gt=(n(409),n(206));function ht(){var e=Object(I.a)(["\n  display: flex;\n  justify-content: center;\n"]);return ht=function(){return e},e}var vt=function(e){var t=e.loading,n=e.color,a=void 0===n?Y.blackOpacity:n;return l.a.createElement(Ot,{"data-testid":"LoaderIcon"},t?l.a.createElement(gt.PulseLoader,{color:a,size:15,margin:"2px",loading:t}):void 0)},Ot=d.b.div(ht()),jt=n(14),Et=n.n(jt),xt=n(211),yt=n.n(xt),wt=n(214),It=n.n(wt),Ct=n(212),kt=n.n(Ct),St=n(213),Pt=n.n(St),Tt=n(483),Rt=n(484),Nt=n(495),Ft=n(223);function zt(){var e=Object(I.a)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n"]);return zt=function(){return e},e}function At(){var e=Object(I.a)(["\n  justify-content: flex-end;\n  margin-right: 15px;\n  flex: 15 1;\n  display: flex;\n  align-items: center;\n"]);return At=function(){return e},e}function Lt(){var e=Object(I.a)(["\n  margin-right: 10px;\n"]);return Lt=function(){return e},e}function Gt(){var e=Object(I.a)(["\n  margin-left: 15px;\n"]);return Gt=function(){return e},e}function _t(){var e=Object(I.a)(["\n  display: flex;\n  justify-content: center;\n  flex: 1;\n  align-items: center;\n  margin-right: 10px;\n  cursor: ",";\n"]);return _t=function(){return e},e}var Dt=function(e){return x.a.createElement(Tt.a,Object.assign({type:"button"},e,{disabled:e.disabled}),e.children)},Wt=function(e){var t=e.showPageSizeOptions,n=e.pageSizeOptions,a=e.pageSize,r=e.data,i=e.canPrevious,o=e.canNextFromData,l=e.onPageSizeChange,u=e.className,s=e.onPageChange,d=e.style,p=e.PreviousComponent,f=void 0===p?Dt:p,b=e.NextComponent,m=void 0===b?Dt:b,h=Object(c.useGlobal)("configurationId"),v=Object(_.a)(h,1)[0],O=function(t){t=function(t){return isNaN(t)&&(t=e.page),e.canNextFromData?t:Math.min(Math.max(t,0),e.pages-1)}(t),e.page!==t&&s(t)},j=o?r&&r.length===a:e.canNext,y=e.page*a+1,w=e.page+1===e.pages?r.length:(e.page+1)*a,I=r.length;return Object(E.useEffect)((function(){Oe(!0,v)}),[a]),x.a.createElement("div",{className:Et()(u,"-pagination"),"data-testid":"PaginationFooter",id:je("PaginationFooter",v),style:Object(g.a)({},d,{borderRadius:"0 0 15px 15px",borderTop:"unset"})},x.a.createElement(Mt,null,t&&x.a.createElement(Vt,{className:"select-wrap -pageSizeOptions"},x.a.createElement(Ht,null,"Rows per page"),x.a.createElement(Rt.a,null,x.a.createElement(Nt.a,{value:a,onChange:function(e){return l(Number(e.target.value))},input:x.a.createElement(Ft.a,{id:"pageSize-select"}),style:{fontSize:"small",paddingTop:"3px"}},n.map((function(e){return x.a.createElement(Ne.a,{key:e,value:e},e)}))))),x.a.createElement(Bt,{"data-testid":"TotalRoots"},"".concat(y,"-").concat(w," of ").concat(I))),x.a.createElement(qt,{disabled:!i},x.a.createElement(f,{onClick:function(){i&&O(0)},disabled:!i,style:ee(i),"data-testid":"GoFirstPage"},x.a.createElement(yt.a,null)),x.a.createElement(f,{onClick:function(){i&&O(e.page-1)},disabled:!i,style:ee(i),"data-testid":"GoPreviousPage"},x.a.createElement(kt.a,null))),x.a.createElement(qt,{disabled:!j},x.a.createElement(m,{onClick:function(){j&&O(e.page+1)},disabled:!j,style:ee(j),"data-testid":"GoNextPage"},x.a.createElement(Pt.a,null)),x.a.createElement(m,{onClick:function(){j&&O(e.pages)},disabled:!j,style:ee(j),"data-testid":"GoLastPage"},x.a.createElement(It.a,null))))},qt=d.b.div(_t(),(function(e){return e.disabled?"not-allowed":""})),Bt=d.b.span(Gt()),Ht=d.b.span(Lt()),Mt=d.b.div(At()),Vt=d.b.div(zt());function Yt(){var e=Object(I.a)(["\n  position: absolute;\n  color: ",";\n  pointer-events: none;\n  top: 45%;\n  left: 15px;\n  font-weight: bold;\n  font-size: medium;\n"]);return Yt=function(){return e},e}var Jt=function(e){return e.isLoading?null:x.a.createElement(Ut,{"data-testid":"NothingFound"},"No results found")},Ut=d.b.div(Yt(),(function(e){return e.theme.colors.blackOpacity}));function Kt(){var e=Object(I.a)(["\n  text-align: center;\n  border-radius: 0 0 10px 10px;\n  box-shadow: ",";\n"]);return Kt=function(){return e},e}var Qt=function e(t){var n=t.data,a=t.isRoot,r=t.treeNode,i=Object(c.useGlobal)("foldedColumn"),l=Object(_.a)(i,1)[0],u=Object(c.useGlobal)("defaultColumnWidths"),s=Object(_.a)(u,2)[1],d=Object(c.useGlobal)("newSorted"),p=Object(_.a)(d,2),f=p[0],b=p[1],h=Object(c.useGlobal)("columns"),v=Object(_.a)(h,2),y=v[0],w=v[1],I=Object(c.useGlobal)("data"),C=Object(_.a)(I,1)[0],k=Object(c.useGlobal)("selectedIds"),S=Object(_.a)(k,2),P=S[0],T=S[1],R=Object(c.useGlobal)("enablePagination"),N=Object(_.a)(R,1)[0],F=Object(c.useGlobal)("configurationId"),z=Object(_.a)(F,1)[0],A=document.getElementById(je("TableBody",z))||void 0,L=Object(E.useState)([]),G=Object(_.a)(L,2),D=G[0],W=G[1],q=Object(E.useState)(!1),B=Object(_.a)(q,2),H=B[0],M=B[1],J=Object(E.useState)(!be(A)),U=Object(_.a)(J,2),X=U[0],Z=U[1],$=Object(E.useState)(!1),ee=Object(_.a)($,2),ne=ee[0],ae=ee[1],re=Object(c.useGlobal)("expandedRows"),ie=Object(_.a)(re,1)[0],oe=Object(c.useDispatch)("handleExpand"),ce=function(){var e=Object(E.useState)([0,0]),t=Object(_.a)(e,2),n=t[0],a=t[1];return Object(E.useLayoutEffect)((function(){var e=function(){a([window.innerWidth,window.innerHeight])};return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n}(),le=Object(_.a)(ce,2)[1];Object(E.useEffect)((function(){if(!l.folded){var e=y.map((function(e){var t=document.getElementById(e.id||""),n=t&&t.getBoundingClientRect();return n?{id:e.id,width:n.width}:{id:e.id,width:250}}));s(e)}w(Object(O.a)(y.concat(D).reduce((function(e,t){return e.set(t.id,Object.assign(e.get(t.id)||{},t))}),new Map).values())),M(!1)}),[H]);Object(E.useEffect)((function(){Z(be(A)),ae(!1),mt.a.rebuild()}),[A,ne,le,l]);return x.a.createElement(Xt,{"data-testid":"TableBody",root:a},x.a.createElement(mt.a,{multiline:!0,className:"extraClass",overridePosition:function(e,t,n,a){var r=e.left,i=e.top,o=document.documentElement;return r=Math.min(o.clientWidth-(a?a.clientWidth:0),r),i=Math.min(o.clientHeight-(a?a.clientHeight:0),i),r=Math.max(10,r),{top:i=Math.max(10,i),left:r}}}),x.a.createElement(bt.a,Object.assign({},a?Object(g.a)({},N&&{defaultPageSize:10},{},!N&&{pageSize:n.length},{getTbodyProps:function(){return{style:{maxHeight:"".concat(N?le-195:le-155,"px"),minHeight:"38px",overflowX:"hidden"},id:je("TableBody",z)}}}):{TheadComponent:function(){return null},defaultPageSize:1e3,getTbodyProps:function(){return{style:{minHeight:"30px",overflow:"unset"}}}},{showPagination:N&&a,getNoDataProps:function(e){return{loading:e.loading}},PaginationComponent:Wt,collapseOnDataChange:!1,collapseOnSortingChange:!0,pageSizeOptions:[1,5,10,20,50,100,1e3],filterable:!1,resizable:!0,sortable:!0,multiSort:!1,SubComponent:function(t){var n=t.original;return n.children.length>0?x.a.createElement(e,{data:n.children.map((function(e){return C[e]})),isRoot:!1,treeNode:n.treeNodeId}):n.hasChildren?x.a.createElement(vt,{loading:!0}):void 0},className:"-highlight",data:n,columns:y,NoDataComponent:Jt,minRows:1,getResizerProps:function(){return{style:te}},getTrProps:function(e,t){return Object(m.a)({style:(n=P.some((function(e){return!(!t||!t.original)&&e===t.original.uniqId})),Object(g.a)({color:Y.black,cursor:"pointer",borderLeft:"solid 1px rgba(0,0,0,0.05)"},n?{fontWeight:"bold",backgroundColor:Y.silver}:{}))},"data-testid","TableRow_".concat(t&&t.original.uri.replace(/.*\//,"")));var n},getTheadThProps:function(e,t,n){var a;return a={},Object(m.a)(a,"data-testid","TableHeader_".concat(n&&n.id||"")),Object(m.a)(a,"id",n&&n.id||""),a},getTheadTrProps:function(){return{style:Object(g.a)({backgroundColor:Y.darkGrey},X&&{paddingRight:"10px"})}},getTdProps:function(e,t,n){return function(e,t){var n,a;return n={onClick:function(t,n){var a=t.target.id,r=[V.containerExpander,V.iconExpand,V.iconExpandWrapper].includes(a);0!==a.length&&(r?n():P.some((function(t){return t===e.original.uniqId}))?T(P.filter((function(t){return t!==e.original.uniqId}))):T(P.concat(e.original.uniqId)))},style:(a=t.id||"",Object(g.a)({textAlign:"left",border:"solid 1px rgba(0,0,0,0.05)",borderLeft:"0"},a===V.collapse?{padding:"0px"}:{}))},Object(m.a)(n,"data-testid",V.tableCell),Object(m.a)(n,"id",t.id===V.collapse?V.expandCell:V.tableCell),n}(t,n)},getTableProps:function(){return a?{}:{style:K}},getProps:function(){return{style:Q}},getTrGroupProps:function(){return{style:Q}},expanderDefaults:{sortable:!0,resizable:!0,filterable:!1},resized:l.folded?[]:D.map((function(e){var t=e.width,n=Object(j.a)(e,["width"]);return Object(g.a)({value:t},n)})),onResizedChange:function(e,t){W(e.map((function(e){var t=e.value,n=Object(j.a)(e,["value"]);return Object(g.a)({width:t},n)}))),M(!0)},sorted:f,expanded:ie["".concat(r)],onSortedChange:function(e){var t=e.length>0?e[0]:void 0,a=y[0].accessor;t&&t.id===V.collapse&&a&&n.sort((function(e,t){var n=e[a],r=t[a];return n<r?-1:n>r?1:0})),b(e),oe({type:o.resetExpand})},onExpandedChange:function(e,t){oe({type:o.handleExpand,payload:{treeNode:r,newExpanded:e,index:t[0]}})},onPageSizeChange:function(){return ae(!0)}})))},Xt=d.b.div(Kt(),(function(e){return e.root?"0px 1px 5px 0px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 3px 1px -2px rgba(0, 0, 0, 0.12)":"unset"})),Zt=n(216),$t=n.n(Zt),en=n(217),tn=n(436),nn=n(496),an=n(488),rn=n(489),on=n(58),cn=n.n(on),ln=n(494),un=n(487),sn=Object(un.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1},option:{fontSize:15,border:"1px solid rgba(27,31,35,.15)",boxShadow:"0 3px 12px rgba(27,31,35,.15)",borderRadius:5,minHeight:"auto",alignItems:"flex-start",padding:8,"& > span":{marginRight:10,fontSize:18}},listbox:{padding:10},paper:{padding:10,border:"1px solid rgb(76, 76, 76, 0.5)"}}})),dn=function(e){var t=e.required,n=void 0!==t&&t,a=e.disabled,r=void 0!==a&&a,i=e.InputProps,o=void 0===i?{}:i,c=Object(j.a)(e,["required","disabled","InputProps"]);return x.a.createElement(nn.a,Object.assign({},c,{required:n,disabled:r,label:c.label,value:c.value,defaultValue:c.defaultValue,fullWidth:!0,autoFocus:!1,InputProps:o,onBlur:c.onBlur,variant:"outlined",margin:"dense",onChange:c.onChange,onKeyPress:c.onKeyPress}))},pn=function(e){var t=e.loading,n=void 0!==t&&t,a=e.disabled,r=void 0!==a&&a,i=e.onOpen,o=void 0===i?cn.a:i,c=e.noOptionsText,l=void 0===c?"Nothing found":c,u=e.style,s=void 0===u?{width:"100%"}:u,d=Object(j.a)(e,["loading","disabled","onOpen","noOptionsText","style"]),p=Object(E.useState)(!1),f=Object(_.a)(p,2),b=f[0],m=f[1];return x.a.createElement(ln.a,Object.assign({},d,{classes:sn(),disabled:r,id:d.id,loading:n,open:b,value:d.value,onOpen:function(e){m(!0),o(e)},onClose:function(){m(!1)},style:s,noOptionsText:l,getOptionLabel:function(e){return e.display},renderOption:function(e){return e.display},renderInput:function(e){return x.a.createElement(dn,Object.assign({},e,{label:d.label,InputProps:Object(g.a)({},e.InputProps,{endAdornment:x.a.createElement(x.a.Fragment,null,n?x.a.createElement(an.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)})}))},options:d.options,onChange:d.onChange}))},fn=function(e){var t=e.onClick,n=void 0===t?cn.a:t,a=Object(j.a)(e,["onClick"]);return x.a.createElement(rn.a,Object.assign({},a,{variant:"contained",size:"medium",type:a.type,form:a.form,onClick:function(e){n(e)},style:a.style,disabled:a.disabled}),a.children)},bn=function(e){var t=e.onClick,n=void 0===t?cn.a:t,a=e.disabled,r=void 0!==a&&a,i=Object(j.a)(e,["onClick","disabled"]);return x.a.createElement(Tt.a,Object.assign({},i,{onClick:function(e){n(e)},style:U(r),disabled:r}),i.children)};function mn(){var e=Object(I.a)(["\n  display: flex;\n  align-self: center;\n  text-align: left;\n"]);return mn=function(){return e},e}function gn(){var e=Object(I.a)(["\n  display: flex;\n  flex-direction: column;\n  align-self: center;\n  text-align: left;\n"]);return gn=function(){return e},e}function hn(){var e=Object(I.a)(["\n  margin-left: 10px;\n"]);return hn=function(){return e},e}function vn(){var e=Object(I.a)(["\n  color: ",";\n"]);return vn=function(){return e},e}function On(){var e=Object(I.a)(["\n  color: ",";\n  text-transform: uppercase;\n  font-size: initial;\n  margin-block-start: 0.5em;\n  margin-block-end: 0.5em;\n"]);return On=function(){return e},e}function jn(){var e=Object(I.a)(["\n  display: flex;\n  flex-direction: row;\n  padding: 15px;\n  justify-content: space-between;\n  position: relative;\n  background-color: ",";\n  border-radius: 10px 10px 0 0;\n  height: 80px;\n"]);return jn=function(){return e},e}var En=function(){var e=sn(),t=Object(c.useDispatch)("import"),n=Object(c.useGlobal)("selectedIds"),a=Object(_.a)(n,1)[0],i=Object(c.useGlobal)("loading"),o=Object(_.a)(i,1)[0],u=Object(c.useGlobal)("title"),s=Object(_.a)(u,1)[0],d=Object(c.useGlobal)("subtitle"),p=Object(_.a)(d,1)[0],f=Object(c.useGlobal)("filters"),b=Object(_.a)(f,1)[0],m=b.hasEmptyRootsFilters,g=b.areFiltersActive,h=b.rootFilters,v=0===a.length,O=Object(c.useDispatch)("handleFilter");return l.a.createElement(xn,null,l.a.createElement(Cn,null,l.a.createElement(yn,{"data-testid":"title"},s),p&&l.a.createElement(wn,{"data-testid":"subtitle"},p)),l.a.createElement(tn.a,{className:e.backdrop,open:o},l.a.createElement(vt,{loading:o,color:Y.white})),l.a.createElement(kn,null,l.a.createElement(In,{"data-tip":v?"Please select an item by clicking in a row.":"Import selected items"},l.a.createElement(bn,{onClick:function(){t()},disabled:v||o,"data-testid":"ImportButton"},l.a.createElement($t.a,{style:{fontSize:"larger",marginTop:"-4px"}}))),l.a.createElement(In,{"data-tip":m?"There are no filters provided":"Open filter screen"},l.a.createElement(bn,{onClick:function(){O({type:r.open})},disabled:m,"data-testid":"FilterButton"},l.a.createElement(ye.d,{style:{fontSize:"large"}}))),l.a.createElement(In,{"data-tip":g?"Clear active filters":"There are no active filters"},l.a.createElement(bn,{onClick:function(){O({type:r.clearActive})},disabled:m||Object.values(h).every((function(e){return!e.value})),"data-testid":"ClearActiveFiltersButton"},l.a.createElement(ye.d,{style:{fontSize:"large",marginRight:"5px"}}),l.a.createElement(en.a,{style:{marginTop:"4px",marginLeft:"8px",fontSize:"small",position:"absolute"}})))))},xn=d.b.header(jn(),(function(e){return e.theme.colors.greyOpacity})),yn=d.b.h3(On(),(function(e){return e.theme.colors.blackOpacity})),wn=d.b.div(vn(),(function(e){return e.theme.colors.blackOpacity})),In=d.b.div(hn()),Cn=d.b.div(gn()),kn=d.b.div(mn());function Sn(){var e=Object(I.a)(["\n  text-align: center;\n  margin: auto;\n  border-radius: 10px;\n  border: ",";\n"]);return Sn=function(){return e},e}var Pn=function(e){var t=e.data,n=Object(c.useDispatch)("fetchChildren"),a=Object(c.useGlobal)("error"),r=Object(_.a)(a,1)[0],i=Object(c.useGlobal)("importSteps"),o=Object(_.a)(i,1)[0],l=Object(c.useGlobal)("data"),u=Object(_.a)(l,1)[0],s=Object(c.useGlobal)("enablePagination"),d=Object(_.a)(s,1)[0],p=Object(c.useGlobal)("configurationId"),f=Object(_.a)(p,1)[0];Object(E.useEffect)((function(){Oe(d,f),function(e){e.forEach((function(e){var t=e.success,n=e.warnings,a=e.successMessage,r=e.importStep,i=e.errors;t&&0===n.length&&ue(a,r,{type:y.b.TYPE.SUCCESS,autoClose:4e3}),t&&n.length>0&&ue(a,r,{type:y.b.TYPE.WARNING,autoClose:!1,closeButton:x.a.createElement(ie,{warnings:n}),className:Object(w.css)({background:"".concat(Y.orange," !important")})},n),!t&&(i.length>0||n.length>0)&&(1===i.length&&0===n.length&&"error in import. contact your administrator"===i[0].trim().toLowerCase()?ue(i[0],r,{type:y.b.TYPE.ERROR,autoClose:!1,closeButton:x.a.createElement(ie,{warnings:n,errors:i})}):ue("This step has failed",r,{type:y.b.TYPE.ERROR,autoClose:!1,closeButton:x.a.createElement(ie,{warnings:n,errors:i})},n||void 0,i||void 0))}))}(o),!o.map(le()("success")).includes(!1)&&0!==o.length&&Object.keys(u).forEach((function(e){var t=u[e];t.children.length>0&&n(!1,t,0)}))}),[o]);var b=x.a.useMemo((function(){return Object.values(t).filter((function(e){return 0===e.level}))}),[t,o]);return x.a.createElement(Tn,null,""!==r.name&&""!==r.message?x.a.createElement("div",null,x.a.createElement("h4",{"data-testid":"TableError"},"Something went wrong with fetching the data, please reload and try again!"),x.a.createElement("p",null,"Should this error persist, please make sure the configuration is valid and active, and configured to be used by the current host application.")):x.a.createElement(x.a.Fragment,null,x.a.createElement(En,null),x.a.createElement(Qt,{data:b,isRoot:!0,treeNode:V.highestTreeLevel})))},Tn=d.b.div(Sn(),(function(e){return"1px solid ".concat(e.theme.colors.blackOpacityBorder)})),Rn=n(490),Nn=n(492),Fn=n(491),zn=n(497);function An(){var e=Object(I.a)(["\n  display: flex;\n  flex-direction: column;\n  flex-wrap: wrap;\n"]);return An=function(){return e},e}var Ln=function(){var e=Object(c.useGlobal)("filters"),t=Object(_.a)(e,1)[0],n=Object(c.useDispatch)("handleFilter"),i=x.a.useState({}),o=Object(_.a)(i,2),l=o[0],u=o[1],s=function(e){e.preventDefault(),n({type:r.setActive,payload:l})};return x.a.createElement(Rn.a,{fullWidth:!0,open:t.isFilterDialogOpen,onClose:function(){n({type:r.close})}},x.a.createElement(zn.a,{"data-testid":"FilterTitle"},"Filter options"),x.a.createElement(Fn.a,{style:{overflowY:"unset"}},x.a.createElement(Gn,{id:"filter-add-on",onSubmit:s},Object.values(t.rootFilters).map((function(e){var i=t.picklist.find((function(t){return t.value===e.value}))||void 0;return e.type===a.literal?x.a.createElement(dn,{key:e.id,label:e.name,id:"Filter_".concat(e.id),defaultValue:e.value,onChange:function(t){u(Object(g.a)({},l,Object(m.a)({},e.id,t.target.value)))},onKeyPress:function(e){"Enter"===e.key&&s(e)}}):x.a.createElement(pn,{key:e.id,id:"SPARQL filter",label:e.name,loading:t.loadingPicklist,defaultValue:i,onOpen:function(){n({type:r.picklistValues,payload:{queryId:e.query}})},options:t.picklist,onChange:function(t,n){u(Object(g.a)({},l,Object(m.a)({},e.id,null===n||void 0===n?void 0:n.value)))}})})))),x.a.createElement(Nn.a,{style:{justifyContent:"center",paddingBottom:"16px"}},x.a.createElement(fn,{"data-testid":"AddFilterButton",type:"submit",form:"filter-add-on",id:"FilterDialog_Apply"},"Apply Filters")))},Gn=d.b.form(An());function _n(){var e=Object(I.a)(["\n  user-select: auto;\n  padding: 15px;\n  color: ",";\n  margin: auto;\n  font-size: smaller;\n  font-family: 'Roboto', 'Helvetica', 'Arial', sans-serif;\n"]);return _n=function(){return e},e}var Dn=function(){var e=Object(c.useDispatch)("fetchRoots"),t=Object(c.useGlobal)("loadingRoots"),n=Object(_.a)(t,1)[0],a=Object(c.useGlobal)("configurationId"),r=Object(_.a)(a,2)[1],i=Object(c.useGlobal)("data"),o=Object(_.a)(i,1)[0],u=Object(c.useGlobal)("parameters"),s=Object(_.a)(u,2)[1],d=Object(c.useGlobal)("filters"),p=Object(_.a)(d,1)[0].areFiltersActive,f=window.location.href.includes("params"),b=atob(se("params"));return Object(E.useEffect)((function(){r(se("configurationId")),s(f?JSON.parse(b):[])}),[]),Object(E.useEffect)((function(){e()}),[e,p]),l.a.createElement(Wn,null,n?l.a.createElement(vt,{loading:n}):l.a.createElement(Pn,{data:o}),l.a.createElement(y.a,{hideProgressBar:!0,draggable:!1,pauseOnHover:!1,pauseOnFocusLoss:!1,position:y.b.POSITION.TOP_LEFT,closeOnClick:!1,bodyClassName:Object(w.css)({width:"90%"}),closeButton:l.a.createElement(ie,null)}),l.a.createElement(Ln,null))},Wn=d.b.div(_n(),(function(e){return e.theme.colors.black})),qn={columns:[],error:{name:"",message:""},selectedIds:[],loadingRoots:!0,configurationId:"",data:{},search:"",importSteps:[],loading:!1,newSorted:[],parameters:[],enablePagination:!0,title:"",subtitle:"",foldedColumn:{id:void 0,folded:!1},expandedRows:{},defaultColumnWidths:[],filters:{areFiltersActive:!1,rootFilters:{},loadingPicklist:!1,picklist:[],isFilterDialogOpen:!1,hasEmptyRootsFilters:!1}},Bn={colors:Y};Object(c.setGlobal)(qn),s.a.render(l.a.createElement(d.a,{theme:Bn},l.a.createElement(l.a.Fragment,null,l.a.createElement(p.a,null),l.a.createElement(Dn,null))),document.getElementById("root"))}},[[237,1,2]]]);
//# sourceMappingURL=main.0e488c2a.chunk.js.map